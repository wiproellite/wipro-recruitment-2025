<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wipro Secure Assessment Portal | Elite NTH</title>
    <style>
        /* Professional Font Imports */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@600;700&display=swap');

        :root { 
            --primary: #007bff; 
            --success: #28a745; 
            --danger: #dc3545; 
            --bg: #f4f7f9; 
            --font-main: 'Inter', sans-serif;
            --font-heading: 'Poppins', sans-serif;
        }

        body { font-family: var(--font-main); background-color: var(--bg); margin: 0; user-select: none; overflow-x: hidden; -webkit-font-smoothing: antialiased; }
        h1, h2, h3, .timer-strip, .grid-title, .btn { font-family: var(--font-heading); }

        /* Security Overlays */
        #lockOverlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.98); z-index: 10000; color: white; text-align: center; justify-content: center; align-items: center; flex-direction: column; padding: 20px; }

        .container { max-width: 1200px; margin: 20px auto; background: #fff; padding: 30px; border-radius: 12px; box-shadow: 0 10px 40px rgba(0,0,0,0.08); min-height: 650px; position: relative; }
        
        header { text-align: center; border-bottom: 2px solid #f0f0f0; margin-bottom: 25px; padding-bottom: 15px; }
        header h1 { color: #1a202c; font-size: 24px; margin: 0; letter-spacing: -0.5px; }

        /* Exam Layout */
        .exam-layout { display: none; gap: 30px; }
        .main-exam-area { flex: 3; }
        .sidebar { flex: 1; background: #f8fafc; padding: 20px; border-radius: 12px; border: 1px solid #e2e8f0; height: fit-content; position: sticky; top: 20px; }

        .timer-strip { background: #ebf4ff; border: 1px solid #b3d7ff; color: #0056b3; padding: 15px; border-radius: 8px; text-align: center; font-size: 1.2em; font-weight: bold; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.02); }

        .question-wrapper { display: none; }
        .question-wrapper.active { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        .q-meta { color: var(--primary); font-size: 12px; font-weight: 700; text-transform: uppercase; margin-bottom: 10px; display: block; letter-spacing: 1px; }
        .q-text { font-size: 18px; line-height: 1.6; color: #2d3748; margin-bottom: 25px; font-weight: 500; }

        .options label { display: block; padding: 15px; border: 2px solid #edf2f7; border-radius: 10px; margin-bottom: 12px; cursor: pointer; transition: 0.2s; background: #fff; font-size: 15px; }
        .options label:hover { background: #f7fafc; border-color: #cbd5e0; }
        .options input:checked + span { color: var(--primary); font-weight: 600; }
        .options input { margin-right: 12px; transform: scale(1.2); }

        /* Grid Palette */
        .grid-title { font-size: 14px; margin-bottom: 15px; color: #718096; text-transform: uppercase; letter-spacing: 0.5px; }
        .question-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; }
        .grid-item { padding: 12px 0; border: 1px solid #e2e8f0; border-radius: 6px; text-align: center; cursor: pointer; font-size: 13px; font-weight: 600; background: white; transition: 0.2s; color: #4a5568; }
        .grid-item.active-idx { background: var(--primary); color: white; border-color: var(--primary); transform: scale(1.05); }
        .grid-item.answered { background: var(--success); color: white; border-color: var(--success); }

        .btn-box { margin-top: 40px; display: flex; gap: 15px; }
        .btn { padding: 16px; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; transition: 0.3s; }
        .btn-primary { background: var(--primary); color: white; flex: 1; }
        .btn-primary:hover { background: #0056b3; }
        .btn-submit { background: var(--success); color: white; flex: 1; display: none; }

        /* Registration Form */
        input[type="text"], input[type="email"], input[type="tel"], input[type="number"] { width: 100%; padding: 14px; border: 1px solid #cbd5e0; border-radius: 8px; margin-top: 6px; font-size: 15px; box-sizing: border-box; }
        .form-group { margin-bottom: 18px; }
        .form-group label { font-weight: 600; font-size: 13px; color: #4a5568; }

        #registrationArea, #instructionArea, #successArea { max-width: 600px; margin: 40px auto; }
        .loader { border: 4px solid #f3f3f3; border-top: 4px solid var(--primary); border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 20px auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        
        code { background: #f1f5f9; padding: 2px 6px; border-radius: 4px; font-family: 'Courier New', monospace; color: #e53e3e; }
    </style>
</head>
<body oncontextmenu="return false;">

<div id="lockOverlay">
    <h2>SECURE EXAM MODE ACTIVE</h2>
    <p>The interface was minimized or a tab was switched. This incident has been logged.</p>
    <button onclick="forceFullscreen()" class="btn btn-primary" style="max-width: 250px;">Return to Exam</button>
</div>

<div class="container">
    <header><h1>Wipro Elite NTH Secure Assessment Portal</h1></header>

    <div id="registrationArea">
        <h3 style="margin-bottom: 20px;">Candidate Registration</h3>
        <form id="regForm">
            <div class="form-group"><label>Full Name</label><input type="text" required id="name" placeholder="Enter your full name"></div>
            <div class="form-group"><label>Email ID</label><input type="email" required id="email" placeholder="official@example.com"></div>
            <div class="form-group"><label>Mobile Number</label><input type="tel" required pattern="[0-9]{10}" id="mobile" placeholder="10-digit mobile number"></div>
            <div class="form-group"><label>University/Branch</label><input type="text" required id="branch" placeholder="e.g. B.Tech CSE"></div>
            <div class="form-group"><label>Current Aggregate (%)</label><input type="number" required id="preScore" placeholder="e.g. 75"></div>
            <button type="submit" class="btn btn-primary">Proceed to Instructions</button>
        </form>
    </div>

    <div id="instructionArea" style="display: none;">
        <h3 style="color: var(--danger);">Critical Instructions</h3>
        <ul style="line-height: 2; font-size: 15px; color: #4a5568;">
            <li><b>Total Duration:</b> 45 Minutes for 35 Questions.</li>
            <li><b>Navigation:</b> Use the 'Question Palette' on the right to jump between questions.</li>
            <li><b>Auto-Submit:</b> The test will auto-submit when the timer hits zero.</li>
            <li><b>Proctoring:</b> Any attempt to switch tabs or minimize the window will be flagged.</li>
            <li><b>Requirement:</b> Ensure a stable internet connection and webcam access.</li>
        </ul>
        <button onclick="startExam()" class="btn btn-primary">I Agree, Start Exam</button>
    </div>

    <div id="examArea" class="exam-layout">
        <div class="main-exam-area">
            <div class="timer-strip">Session Ends In: <span id="timer">45:00</span></div>
            <form id="assessmentForm">
                <div id="questionContainer">
                    </div>

                <div class="btn-box">
                    <button type="button" id="nextBtn" class="btn btn-primary" onclick="nextQuestion()">Next Question</button>
                    <button type="submit" id="submitBtn" class="btn btn-submit">Submit Final Assessment</button>
                </div>
            </form>
        </div>

        <div class="sidebar">
            <div class="grid-title">Question Palette</div>
            <div class="question-grid" id="qGrid"></div>
            <div style="margin-top: 25px; font-size: 12px; border-top: 1px solid #e2e8f0; padding-top: 15px;">
                <div style="display: flex; align-items: center; margin-bottom: 8px;">
                    <div style="width: 12px; height: 12px; background: var(--success); border-radius: 2px; margin-right: 8px;"></div> Answered
                </div>
                <div style="display: flex; align-items: center; margin-bottom: 8px;">
                    <div style="width: 12px; height: 12px; background: var(--primary); border-radius: 2px; margin-right: 8px;"></div> Current
                </div>
                <div style="display: flex; align-items: center;">
                    <div style="width: 12px; height: 12px; background: #fff; border: 1px solid #cbd5e0; border-radius: 2px; margin-right: 8px;"></div> Not Visited
                </div>
            </div>
        </div>
    </div>

    <div id="successArea" style="display: none;">
        <div style="text-align: center; padding: 50px 0;">
            <div style="font-size: 60px; color: var(--success); margin-bottom: 20px;">✓</div>
            <h1 style="color: var(--success);">Assessment Submitted</h1>
            <p style="color: #718096; font-size: 18px;">Your response has been successfully logged. Results will be communicated via your registered email.</p>
            <div class="loader"></div>
            <p style="color: #a0aec0;">Finalizing proctoring logs...</p>
        </div>
    </div>
</div>

<script>
    const questions = [
        { q: "A number divided by 7 leaves remainder 3. When divided by 21, what is the possible remainder?", o: ["1", "2", "3", "Cannot be determined"], s: "Quant" },
        { q: "If 2^x * 4^y = 512 and x + y = 6, find the value of x.", o: ["2", "3", "4", "5"], s: "Quant" },
        { q: "4 men and 6 women can complete a work in 8 days. 2 men and 3 women can do it in how many days?", o: ["16", "20", "24", "32"], s: "Quant" },
        { q: "If the sum of 'n' natural numbers is 465, find n.", o: ["29", "30", "31", "32"], s: "Quant" },
        { q: "Difference between SI and CI on ₹20,000 for 2 years at 10% per annum is?", o: ["₹200", "₹210", "₹220", "₹250"], s: "Quant" },
        { q: "Solve for x: log(2x) + log(5x) = 2", o: ["0.1", "1", "sqrt(10)", "10"], s: "Quant" },
        { q: "A train 150m long passes a pole in 15 seconds. In what time will it pass a platform 300m long?", o: ["30s", "45s", "50s", "60s"], s: "Quant" },
        { q: "Complete the series: 3, 9, 21, 45, 93, ?", o: ["189", "183", "196", "190"], s: "Logical" },
        { q: "If FLOWER is coded as GQPXGT, how is FUTURE coded?", o: ["GVVXTF", "GVVWTF", "HVWXTF", "GVWVTF"], s: "Logical" },
        { q: "Pointing to a man, Rahul said, 'He is the father of my daughter's brother.' Who is the man?", o: ["Rahul's Father", "Rahul's Son", "Rahul himself", "Rahul's Brother"], s: "Logical" },
        { q: "A is the sister of B, C is the father of B, D is the husband of A. How is C related to D?", o: ["Father", "Father-in-law", "Brother", "Uncle"], s: "Logical" },
        { q: "Missing term: 7, 10, 16, 28, 52, ?", o: ["88", "94", "100", "104"], s: "Logical" },
        { q: "Statement: All pens are books. All books are papers. Conclusion: ?", o: ["All pens are papers", "Some papers are pens", "All papers are pens", "Both A & B"], s: "Logical" },
        { q: "Find the odd one out: 27, 64, 125, 144, 216", o: ["64", "125", "144", "216"], s: "Logical" },
        { q: "Choose the correct sentence:", o: ["Neither of them were present", "Neither of them was present", "Neither of them are present", "None"], s: "English" },
        { q: "Synonym of AUSPICIOUS:", o: ["Favorable", "Unlucky", "Rare", "Harmful"], s: "English" },
        { q: "Identify error: 'Each of the participants have submitted their forms.'", o: ["Each of", "participants", "have submitted", "their forms"], s: "English" },
        { q: "Antonym of LUCID:", o: ["Clear", "Bright", "Confusing", "Orderly"], s: "English" },
        { q: "Meaning of idiom: 'To take with a grain of salt'", o: ["To accept completely", "To be skeptical", "To add flavor", "To ignore"], s: "English" },
        { q: "Passive voice of: 'He is writing a letter'", o: ["A letter was written by him", "A letter is being written by him", "A letter is written by him", "None"], s: "English" },
        { q: "Fill in the blank: If I ____ a bird, I would fly.", o: ["am", "was", "were", "had been"], s: "English" },
        { q: "Worst-case time complexity of QuickSort:", o: ["O(n)", "O(n log n)", "O(n^2)", "O(log n)"], s: "Technical" },
        { q: "Which is not a feature of OOPs?", o: ["Encapsulation", "Polymorphism", "Recursion", "Inheritance"], s: "Technical" },
        { q: "Data structure used for BFS (Breadth First Search):", o: ["Stack", "Queue", "Linked List", "Tree"], s: "Technical" },
        { q: "Which index structure is used in relational databases?", o: ["AVL Tree", "B+ Tree", "Hash Tree", "Red-Black Tree"], s: "Technical" },
        { q: "Output of: int a=5; printf('%d %d', a++, ++a);", o: ["5 6", "6 7", "Undefined", "5 7"], s: "Technical" },
        { q: "Output of Python code: print(2**3**2)?", o: ["64", "512", "729", "None"], s: "Technical" },
        { q: "Non-linear data structure:", o: ["Array", "Linked List", "Queue", "Tree"], s: "Technical" },
        { q: "Converting an object into a stream of bytes is:", o: ["Serialization", "Deserialization", "Marshaling", "Inheritance"], s: "Technical" },
        { q: "Normalization in DBMS is used for:", o: ["Speeding up queries", "Reducing data redundancy", "Data encryption", "Backup"], s: "Technical" },
        { q: "Next term in series: 1, 8, 27, 64, ?", o: ["100", "121", "125", "216"], s: "Mix" },
        { q: "What is a 'Thread' in an OS?", o: ["A separate process", "Lightweight process", "A physical cable", "None"], s: "Mix" },
        { q: "Max nodes in a binary tree of height 'h' (root=0):", o: ["2^h", "2^(h+1) - 1", "2h", "h^2"], s: "Mix" },
        { q: "Complete the idiom: 'A penny for your ____'", o: ["Time", "Trouble", "Thoughts", "Effort"], s: "Mix" },
        { q: "SQL command to delete all records but keep structure:", o: ["DELETE", "TRUNCATE", "DROP", "REMOVE"], s: "Mix" }
    ];

    let current = 0;
    const container = document.getElementById('questionContainer');
    const gridEl = document.getElementById('qGrid');

    // Initialize Grid & Questions
    questions.forEach((item, i) => {
        // Create Question HTML
        const wrapper = document.createElement('div');
        wrapper.className = `question-wrapper ${i === 0 ? 'active' : ''}`;
        wrapper.id = `q-wrapper-${i}`;
        wrapper.innerHTML = `
            <span class="q-meta">${item.s} | Question ${i + 1}</span>
            <p class="q-text">${item.q}</p>
            <div class="options">
                ${item.o.map((opt, idx) => `
                    <label>
                        <input type="radio" name="q${i}" value="${opt}" onchange="markAnswered(${i})">
                        <span>${opt}</span>
                    </label>
                `).join('')}
            </div>
        `;
        container.appendChild(wrapper);

        // Create Grid Button
        const btn = document.createElement('div');
        btn.className = 'grid-item';
        btn.id = `grid-item-${i}`;
        btn.innerText = i + 1;
        btn.onclick = () => jumpTo(i);
        gridEl.appendChild(btn);
    });

    function jumpTo(index) {
        document.querySelector('.question-wrapper.active').classList.remove('active');
        document.getElementById(`q-wrapper-${index}`).classList.add('active');
        current = index;
        updateUI();
    }

    function markAnswered(index) {
        document.getElementById(`grid-item-${index}`).classList.add('answered');
    }

    function updateUI() {
        document.querySelectorAll('.grid-item').forEach(el => el.classList.remove('active-idx'));
        document.getElementById(`grid-item-${current}`).classList.add('active-idx');
        
        const isLast = current === questions.length - 1;
        document.getElementById('nextBtn').style.display = isLast ? 'none' : 'block';
        document.getElementById('submitBtn').style.display = isLast ? 'block' : 'none';
    }

    function nextQuestion() {
        if (current < questions.length - 1) jumpTo(current + 1);
    }

    // Workflow
    document.getElementById('regForm').onsubmit = (e) => {
        e.preventDefault();
        document.getElementById('registrationArea').style.display = 'none';
        document.getElementById('instructionArea').style.display = 'block';
    };

    function startExam() {
        forceFullscreen();
        document.getElementById('instructionArea').style.display = 'none';
        document.getElementById('examArea').style.display = 'flex';
        updateUI();
        startTimer();
    }

    function forceFullscreen() {
        const el = document.documentElement;
        if (el.requestFullscreen) el.requestFullscreen();
        document.getElementById('lockOverlay').style.display = 'none';
    }

    function startTimer() {
        let sec = 45 * 60;
        const timerEl = document.getElementById('timer');
        const clock = setInterval(() => {
            let mins = Math.floor(sec / 60);
            let displaySec = sec % 60;
            timerEl.innerText = `${mins}:${displaySec < 10 ? '0' : ''}${displaySec}`;
            if (sec-- <= 0) { 
                clearInterval(clock); 
                alert("Time Expired. Auto-submitting..."); 
                document.getElementById('assessmentForm').onsubmit();
            }
        }, 1000);
    }

    // Security
    document.addEventListener('fullscreenchange', () => {
        if (!document.fullscreenElement && document.getElementById('examArea').style.display === 'flex') {
            document.getElementById('lockOverlay').style.display = 'flex';
        }
    });

    document.getElementById('assessmentForm').onsubmit = (e) => {
        if(e) e.preventDefault();
        document.getElementById('examArea').style.display = 'none';
        document.getElementById('successArea').style.display = 'block';
        setTimeout(() => window.close(), 5000);
    };
</script>
</body>
</html>
